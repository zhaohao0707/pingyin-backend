# 使用已经构建好的二进制文件
FROM ubuntu:22.04

# 安装运行时依赖
RUN apt-get update && apt-get install -y \
    sqlite3 \
    ca-certificates \
    && rm -rf /var/lib/apt/lists/*

# 创建工作目录
WORKDIR /app

# 复制已构建的二进制文件
COPY main .

# 创建数据目录
RUN mkdir -p data

# 暴露端口
EXPOSE 8080

# 运行应用
CMD ["./main"]
